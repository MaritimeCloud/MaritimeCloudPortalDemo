<!-- CREATE CERTIFICATE VIEW -->
<panel ng-show="viewState === 'generate-certificate'" category="primary" icon="plus" title="Generate certificate for {{device.name}}" offset="3">
    <p class="help-block">
        <i>
            Generate a new certificate for {{device.name}}?
        </i>
    </p>
    <panel-button btn-type="primary" ng-click="generateCertificate()"> <i class="fa fa-plus"></i> Generate </panel-button>
    <panel-button btn-type="default" ui-sref="restricted.deviceDetails({deviceId: device.id})"> Cancel <i class="fa fa-ban"></i> </panel-button>
</panel>

<panel ng-show="viewState === 'generate-success'" category="primary" icon="plus" title="Certificate generated" offset="3">
    <p>
        <i>Certificate generated succesfully.</i>
    </p>
    
    <!--
    
    <div class="row">
    	<div class="col-xs-4">
    	    <i>Certificate:</i>
    	</div>
    	<div class="col-xs-12">
    	    <textarea draggable="false" readonly style="width: 100%; height: 120px; resize: none;">
    	        {{certificate}}
    	    </textarea>
    	</div>
    </div>
    <br/>
    <div class="row">
    	<div class="col-xs-4">
    	    <i>Public Key:</i>
    	</div>
    	<div class="col-xs-12">
    	    <textarea  draggable="false" readonly style="width: 100%; height: 120px; resize: none;">
    	        {{publicKey}}
    	    </textarea>
    	</div>
    </div>
    <br/>
    <div class="row">
    	<div class="col-xs-4">
    	    <i>Private Key:</i>
    	</div>
    	<div class="col-xs-12">
    	    <textarea draggable="false" readonly style="width: 100%; height: 120px; resize: none;">
    	        {{privateKey}}
    	    </textarea>
    	</div>
    </div>
    
    -->
    
    <panel-button btn-type="primary" ng-click="zipAndDownload()"> Zip &amp; download </panel-button>
    <panel-button btn-type="default" ui-sref="restricted.deviceDetails({deviceId: device.id})"> Ok </panel-button>
</panel>

<panel ng-show="viewState === 'error'" category="danger" icon="user" title="Error" offset="3">
    <p>
        Error generating certificate:
        <br/>
        <br/>
        <i>
            {{error}}
        </i>
    </p>
    <panel-button btn-type="default" ui-sref="restricted.deviceDetails({deviceId: device.id})">OK</panel-button>
</panel>