<div class="row" cg-busy="busyPromise">
    <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">
        <h1>Edit user</h1>
          <i class="help-block">
            <label>MRN: </label> {{user.mrn}} <br/>
        </i>
        <!--MESSAGES-->
        <div ng-show="alertMessages" class="alert alert-danger">
            <span ng-repeat="msg in alertMessages">{{msg}}<br /></span>
        </div>
        <div ng-show="message" class="alert alert-info">{{message}}</div>
        <hr>
        
        <!--FORMS-->
        <form role="form" name="form"> 
            <div class="form-group" ng-class="{ 'has-error' : form.userOrgId.$invalid && !form.userOrgId.$pristine }">
                <label for="userOrgId" class="control-label">User ID</label>
                <input type="text" required class="form-control" id="userOrgId" name="userOrgId" placeholder="Enter the User ID" ng-model="user.userOrgId"
                       autocomplete='off' spellcheck='false'>
                <p ng-show="form.userOrgId.$invalid && !form.userOrgId.$pristine" class="help-block">User ID is required.</p>
            </div>           
            <div class="form-group" ng-class="{ 'has-error' : form.firstname.$invalid && !form.firstname.$pristine }">
                <label for="firstname" class="control-label">First name</label>
                <input type="text" required class="form-control" id="firstname" name="firstname" placeholder="Enter the first name" ng-model="user.firstName"
                       autocomplete='off' spellcheck='false'>
                <p ng-show="form.firstname.$invalid && !form.firstname.$pristine" class="help-block">First name is required.</p>
            </div>
            
            <div class="form-group" ng-class="{ 'has-error' : form.lastname.$invalid && !form.lastname.$pristine }">
                <label for="lastname" class="control-label">Last name</label>
                <input type="text" required class="form-control" id="lastname" name="lastname" placeholder="Enter the last name" ng-model="user.lastName"
                       autocomplete='off' spellcheck='false'>
                <p ng-show="form.lastname.$invalid && !form.lastname.$pristine" class="help-block">Last name is required.</p>
            </div>
            
            <div class="form-group" ng-class="{ 'has-error' : form.email.$invalid && !form.email.$pristine }">
                <label for="email" class="control-label">Email</label>
                <input type="email" required class="form-control" id="email" name="email" placeholder="Enter the email" ng-model="user.email"
                       autocomplete='off' spellcheck='false'>
                <p ng-show="form.email.$invalid && !form.email.$pristine" class="help-block">Email not valid.</p>
            </div>
            
            <div class="form-group">
                <label for="permissions" class="control-label">Permissions</label>
                <input type="text" class="form-control" id="permissions" name="permissions" placeholder="Enter user specifik permissions" ng-model="user.permissions"
                       autocomplete='off' spellcheck='false'>
            </div>
            
            <div>
                <button type="submit" class="btn btn-success" ng-disabled="form.$invalid" ng-click="submit()">Update</button>
                <button class="btn btn-default" ui-sref='restricted.userDetails({mrn: user.mrn})'>Cancel</button>
            </div> 
        </form> 
    </div>
</div>