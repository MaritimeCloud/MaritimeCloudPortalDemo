webpackJsonpac__name_([0],{

/***/ "./src/app/backend-api/identity-registry/autogen/model/Organization.ts":
/***/ function(module, exports) {

"use strict";
/**
 * Maritime Cloud Identity Registry API
 * Maritime Cloud Identity Registry API can be used for managing entities in the Maritime Cloud.
 *
 * OpenAPI spec version: 0.0.1
 * Contact: info@maritimecloud.net
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
'use strict';


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-details/design-details.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var file_helper_service_1 = __webpack_require__("./src/app/shared/file-helper.service.ts");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var specifications_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/specifications.service.ts");
var instances_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/instances.service.ts");
var auth_service_1 = __webpack_require__("./src/app/authentication/services/auth.service.ts");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var DesignDetailsComponent = (function () {
    function DesignDetailsComponent(authService, route, router, viewModelService, navigationHelperService, instancesService, specificationsService, notifications, designsService, fileHelperService) {
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.viewModelService = viewModelService;
        this.navigationHelperService = navigationHelperService;
        this.instancesService = instancesService;
        this.specificationsService = specificationsService;
        this.notifications = notifications;
        this.designsService = designsService;
        this.fileHelperService = fileHelperService;
    }
    DesignDetailsComponent.prototype.ngOnInit = function () {
        this.onCreate = this.createInstance.bind(this);
        this.onGotoSpec = this.gotoSpecification.bind(this);
        this.onGotoInstance = this.gotoInstance.bind(this);
        this.isLoadingDesign = true;
        this.isLoadingInstances = true;
        this.title = 'Loading ...';
        this.loadDesign();
    };
    DesignDetailsComponent.prototype.downloadXml = function () {
        this.fileHelperService.downloadXml(this.design.designAsXml);
    };
    DesignDetailsComponent.prototype.downloadDoc = function () {
        this.fileHelperService.downloadDoc(this.design.designAsDoc);
    };
    DesignDetailsComponent.prototype.loadDesign = function () {
        var _this = this;
        var designId = this.route.snapshot.params['id'];
        var version = this.route.snapshot.queryParams['designVersion'];
        this.designsService.getDesign(designId, version).subscribe(function (design) {
            _this.title = design.name;
            _this.design = design;
            _this.loadSpecifications();
            _this.loadInstances();
        }, function (err) {
            // TODO: make this as a general component
            if (err.status == 404) {
                _this.router.navigate(['/error404'], { relativeTo: _this.route, replaceUrl: true });
            }
            _this.title = 'Error while loading';
            _this.isLoadingDesign = false;
            _this.isLoadingInstances = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get design', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignDetailsComponent.prototype.loadInstances = function () {
        var _this = this;
        this.instancesService.getInstancesForDesign(this.design.designId, this.design.version).subscribe(function (instances) {
            _this.instances = instances;
            _this.isLoadingInstances = false;
        }, function (err) {
            _this.isLoadingInstances = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get instances', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignDetailsComponent.prototype.delete = function () {
        var _this = this;
        this.designsService.deleteDesign(this.design).subscribe(function () {
            _this.navigationHelperService.navigateToOrgDesign('', '');
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to delete design', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignDetailsComponent.prototype.isAdmin = function () {
        // TODO ;-)
        return this.authService.authState.user === 'rmj';
    };
    // TODO this should be deleted and taken directly from the design-model when service registry has proper data. from design.specifications
    DesignDetailsComponent.prototype.loadSpecifications = function () {
        var _this = this;
        this.specificationsService.getSpecificationsForDesign(this.design).subscribe(function (specifications) {
            _this.specifications = specifications;
            _this.labelValues = _this.viewModelService.generateLabelValuesForDesign(_this.design);
            _this.generateLabelValuesForSpecification();
            _this.isLoadingDesign = false;
        }, function (err) {
            _this.isLoadingDesign = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get specifications', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignDetailsComponent.prototype.generateLabelValuesForSpecification = function () {
        var _this = this;
        if (this.specifications && this.specifications.length > 0) {
            var plur = (this.specifications.length > 1 ? 's' : '');
            var label = 'Implemented specification' + plur;
            this.specifications.forEach(function (specification) {
                _this.labelValues.push({ label: label, valueHtml: specification.name + " - " + specification.version, linkFunction: _this.onGotoSpec, linkValue: [specification.specificationId, specification.version] });
                label = "";
            });
        }
    };
    DesignDetailsComponent.prototype.createInstance = function () {
        this.navigationHelperService.navigateToCreateInstance(this.design.designId, this.design.version);
    };
    DesignDetailsComponent.prototype.gotoSpecification = function (linkValue) {
        try {
            this.navigationHelperService.navigateToOrgSpecification(linkValue[0], linkValue[1]);
        }
        catch (error) {
            this.notifications.generateNotification('Error', 'Error when trying to go to specification', mc_notifications_service_1.MCNotificationType.Error, error);
        }
    };
    DesignDetailsComponent.prototype.gotoInstance = function (index) {
        this.navigationHelperService.navigateToOrgInstance(this.instances[index].instanceId, this.instances[index].version);
    };
    DesignDetailsComponent = __decorate([
        core_1.Component({
            selector: 'design-details',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-details/design-details.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof auth_service_1.AuthService !== 'undefined' && auth_service_1.AuthService) === 'function' && _a) || Object, (typeof (_b = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _b) || Object, (typeof (_c = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _c) || Object, (typeof (_d = typeof sr_view_model_service_1.SrViewModelService !== 'undefined' && sr_view_model_service_1.SrViewModelService) === 'function' && _d) || Object, (typeof (_e = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _e) || Object, (typeof (_f = typeof instances_service_1.InstancesService !== 'undefined' && instances_service_1.InstancesService) === 'function' && _f) || Object, (typeof (_g = typeof specifications_service_1.SpecificationsService !== 'undefined' && specifications_service_1.SpecificationsService) === 'function' && _g) || Object, (typeof (_h = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _h) || Object, (typeof (_j = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _j) || Object, (typeof (_k = typeof file_helper_service_1.FileHelperService !== 'undefined' && file_helper_service_1.FileHelperService) === 'function' && _k) || Object])
    ], DesignDetailsComponent);
    return DesignDetailsComponent;
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
}());
exports.DesignDetailsComponent = DesignDetailsComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-details/design-details.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{title}}\" baCardClass=\"with-scroll table-panel\">\r\n      <mc-label-value-table [isLoading]=\"isLoadingDesign\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n      <ul *ngIf=\"design && !isLoadingDesign\" class=\"btn-list clearfix\">\r\n        <li *ngIf=\"design.designAsDoc\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadDoc()\">Download document</button>\r\n        </li>\r\n        <li *ngIf=\"design.designAsXml\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadXml()\">Download XML</button>\r\n        </li>\r\n        <li *ngIf=\"isAdmin()\">\r\n          <button type=\"button\" class=\"btn btn-danger btn-raised\" (click)=\"delete()\">Delete Design</button>\r\n        </li>\r\n      </ul>\r\n      <div class=\"separator\"></div>\r\n\r\n      <h5>Instances that implements this Design</h5>\r\n      <instances-table [instances]=\"instances\" [isLoading]=\"isLoadingInstances\" [onRowClick]=\"onGotoInstance\"></instances-table>\r\n      <mc-create-button *ngIf=\"!isLoadingInstances\" title=\"Register new Instance\" [onClick]=\"onCreate\" ></mc-create-button>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-list/design-list.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var DesignListComponent = (function () {
    function DesignListComponent(route, router, notifications, orgService, designsService) {
        this.route = route;
        this.router = router;
        this.notifications = notifications;
        this.orgService = orgService;
        this.designsService = designsService;
        this.organization = {};
    }
    DesignListComponent.prototype.ngOnInit = function () {
        this.cardTitle = 'Loading ...';
        this.onGotoDesign = this.gotoDesign.bind(this);
        this.isLoading = true;
        this.loadMyOrganization();
        this.loadDesigns();
    };
    DesignListComponent.prototype.loadDesigns = function () {
        var _this = this;
        this.designsService.getDesignsForMyOrg().subscribe(function (designs) {
            _this.designs = designs;
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get designs', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignListComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            //this.cardTitle = 'Designs for ' + organization.name;
            _this.cardTitle = 'All Designs';
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignListComponent.prototype.gotoDesign = function (index) {
        this.router.navigate([this.designs[index].designId], { queryParams: { designVersion: this.designs[index].version }, relativeTo: this.route });
    };
    DesignListComponent = __decorate([
        core_1.Component({
            selector: 'design-list',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-list/design-list.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _a) || Object, (typeof (_b = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _b) || Object, (typeof (_c = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _c) || Object, (typeof (_d = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _d) || Object, (typeof (_e = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _e) || Object])
    ], DesignListComponent);
    return DesignListComponent;
    var _a, _b, _c, _d, _e;
}());
exports.DesignListComponent = DesignListComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-list/design-list.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{cardTitle}}\" baCardClass=\"with-scroll table-panel\">\r\n      <designs-table [designs]=\"designs\" [isLoading]=\"isLoading\" [onRowClick]=\"onGotoDesign\"></designs-table>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-new/design-new.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mcFileUploader_component_1 = __webpack_require__("./src/app/theme/components/mcFileUploader/mcFileUploader.component.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var xml_parser_service_1 = __webpack_require__("./src/app/shared/xml-parser.service.ts");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var specifications_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/specifications.service.ts");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var DesignNewComponent = (function () {
    function DesignNewComponent(activatedRoute, xmlParserService, viewModelService, navigationService, notifications, designsService, orgService, specificationsService) {
        this.activatedRoute = activatedRoute;
        this.xmlParserService = xmlParserService;
        this.viewModelService = viewModelService;
        this.navigationService = navigationService;
        this.notifications = notifications;
        this.designsService = designsService;
        this.orgService = orgService;
        this.specificationsService = specificationsService;
        this.captionXml = 'Upload Design Xml file';
        this.captionDoc = 'Upload Design Document file';
        this.fileTypeXml = mcFileUploader_component_1.FileUploadType.Xml;
        this.fileTypeDoc = mcFileUploader_component_1.FileUploadType.Doc;
        this.requiredTextXml = 'You need to upload Xml file';
        this.isFormValid = false;
        this.isLoading = true;
        this.isRegistering = false;
        this.registerTitle = "Register Design";
        this.registerButtonClass = "btn btn-danger btn-raised";
        this.organization = {};
    }
    DesignNewComponent.prototype.ngOnInit = function () {
        this.onRegister = this.register.bind(this);
        this.isRegistering = false;
        this.isLoading = true;
        this.loadMyOrganization();
        this.loadSpecification();
    };
    DesignNewComponent.prototype.calculateFormValid = function () {
        this.isFormValid = this.xml != null;
    };
    DesignNewComponent.prototype.onUploadDoc = function (file) {
        this.doc = file;
        this.calculateFormValid();
    };
    DesignNewComponent.prototype.onUploadXml = function (file) {
        this.xml = file;
        this.calculateFormValid();
    };
    DesignNewComponent.prototype.cancel = function () {
        this.navigationService.cancelCreateDesign();
    };
    DesignNewComponent.prototype.register = function () {
        this.isRegistering = true;
        try {
            var design = {};
            design.designAsXml = this.xml;
            design.designAsDoc = this.doc;
            design.name = this.xmlParserService.getValueFromField('name', this.xml);
            design.description = this.xmlParserService.getValueFromField('description', this.xml);
            design.designId = this.xmlParserService.getValueFromField('id', this.xml);
            design.status = this.xmlParserService.getValueFromField('status', this.xml);
            design.organizationId = this.organization.mrn;
            design.version = this.xmlParserService.getValueFromField('version', this.xml);
            design.specifications = [this.specification];
            this.createDesign(design);
        }
        catch (error) {
            this.isRegistering = false;
            this.notifications.generateNotification('Error in XML', error.message, mc_notifications_service_1.MCNotificationType.Error, error);
        }
    };
    DesignNewComponent.prototype.createDesign = function (design) {
        var _this = this;
        this.designsService.createDesign(design).subscribe(function (design) {
            _this.navigationService.navigateToOrgDesign(design.designId, design.version);
            _this.isRegistering = false;
        }, function (err) {
            _this.isRegistering = false;
            _this.notifications.generateNotification('Error', 'Error when trying to create design', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignNewComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            _this.calculateFormValid();
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignNewComponent.prototype.loadSpecification = function () {
        var _this = this;
        var specificationId = this.activatedRoute.snapshot.queryParams['specificationId'];
        var version = this.activatedRoute.snapshot.queryParams['specificationVersion'];
        this.specificationsService.getSpecification(specificationId, version).subscribe(function (specification) {
            _this.specification = specification;
            _this.labelValues = _this.viewModelService.generateLabelValuesForSpecification(_this.specification);
            _this.calculateFormValid();
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get specification', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    DesignNewComponent = __decorate([
        core_1.Component({
            selector: 'design-new',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-new/design-new.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _a) || Object, (typeof (_b = typeof xml_parser_service_1.XmlParserService !== 'undefined' && xml_parser_service_1.XmlParserService) === 'function' && _b) || Object, (typeof (_c = typeof sr_view_model_service_1.SrViewModelService !== 'undefined' && sr_view_model_service_1.SrViewModelService) === 'function' && _c) || Object, (typeof (_d = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _d) || Object, (typeof (_e = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _e) || Object, (typeof (_f = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _f) || Object, (typeof (_g = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _g) || Object, (typeof (_h = typeof specifications_service_1.SpecificationsService !== 'undefined' && specifications_service_1.SpecificationsService) === 'function' && _h) || Object])
    ], DesignNewComponent);
    return DesignNewComponent;
    var _a, _b, _c, _d, _e, _f, _g, _h;
}());
exports.DesignNewComponent = DesignNewComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/components/design-new/design-new.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"Register new Design for {{organization.name}}\" baCardClass=\"with-scroll table-panel\">\r\n      <h5 *ngIf=\"specification\">Registering a design for this specification</h5>\r\n      <mc-label-value-table [isLoading]=\"isLoading\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n\r\n      <div class=\"separator\"></div>\r\n\r\n      <div *ngIf=\"specification\">\r\n        <form>\r\n          <mc-file-uploader [caption]=\"captionXml\" [fileUploadType]=\"fileTypeXml\" [requiredText]=\"requiredTextXml\" (onUpload)=\"onUploadXml($event)\"></mc-file-uploader>\r\n          <mc-file-uploader [caption]=\"captionDoc\" [fileUploadType]=\"fileTypeDoc\" (onUpload)=\"onUploadDoc($event)\"></mc-file-uploader>\r\n          <ul class=\"btn-list clearfix\">\r\n            <li>\r\n              <mc-loading-button [class]=\"registerButtonClass\" [disabled]=\"!isFormValid\" [isLoading]=\"isRegistering\" [title]=\"registerTitle\" [onClick]=\"onRegister\" ></mc-loading-button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" class=\"btn btn-default btn-raised\" (click)=\"cancel()\">Cancel</button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n      <div class=\"no-data\" *ngIf=\"!specification && !isLoading\">No data</div>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/designs/designs.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var DesignsComponent = (function () {
    function DesignsComponent() {
    }
    DesignsComponent = __decorate([
        core_1.Component({
            selector: 'designs',
            template: "<router-outlet></router-outlet>"
        }), 
        __metadata('design:paramtypes', [])
    ], DesignsComponent);
    return DesignsComponent;
}());
exports.DesignsComponent = DesignsComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/designs.module.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var common_1 = __webpack_require__("./node_modules/@angular/common/index.js");
var designs_routing_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/designs.routing.ts");
var nga_module_1 = __webpack_require__("./src/app/theme/nga.module.ts");
var designs_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/designs.component.ts");
var design_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-list/design-list.component.ts");
var design_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-details/design-details.component.ts");
var shared_module_1 = __webpack_require__("./src/app/pages/shared/shared.module.ts");
var design_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-new/design-new.component.ts");
var DesignsModule = (function () {
    function DesignsModule() {
    }
    DesignsModule = __decorate([
        core_1.NgModule({
            imports: [
                common_1.CommonModule,
                nga_module_1.NgaModule,
                shared_module_1.SharedModule,
                designs_routing_1.routing
            ],
            declarations: [
                designs_component_1.DesignsComponent,
                design_list_component_1.DesignListComponent,
                design_details_component_1.DesignDetailsComponent,
                design_new_component_1.DesignNewComponent
            ]
        }), 
        __metadata('design:paramtypes', [])
    ], DesignsModule);
    return DesignsModule;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = DesignsModule;


/***/ },

/***/ "./src/app/pages/org-service-registry/designs/designs.routing.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var designs_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/designs.component.ts");
var design_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-list/design-list.component.ts");
var design_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-details/design-details.component.ts");
var design_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/components/design-new/design-new.component.ts");
// noinspection TypeScriptValidateTypes
exports.designRoutes = [
    {
        path: 'designs',
        component: designs_component_1.DesignsComponent,
        data: { breadcrumb: 'Designs' },
        children: [
            {
                path: '',
                component: design_list_component_1.DesignListComponent
            },
            {
                path: 'register',
                component: design_new_component_1.DesignNewComponent,
                data: { breadcrumb: 'Register' }
            },
            {
                path: ':id',
                component: design_details_component_1.DesignDetailsComponent,
                data: { breadcrumb: 'Details' }
            }
        ]
    }
];
exports.routing = router_1.RouterModule.forChild(exports.designRoutes);


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-details/instance-details.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var file_helper_service_1 = __webpack_require__("./src/app/shared/file-helper.service.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var instances_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/instances.service.ts");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var auth_service_1 = __webpack_require__("./src/app/authentication/services/auth.service.ts");
var InstanceDetailsComponent = (function () {
    function InstanceDetailsComponent(authService, route, router, viewModelService, navigationHelperService, instancesService, notifications, designsService, fileHelperService) {
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.viewModelService = viewModelService;
        this.navigationHelperService = navigationHelperService;
        this.instancesService = instancesService;
        this.notifications = notifications;
        this.designsService = designsService;
        this.fileHelperService = fileHelperService;
    }
    InstanceDetailsComponent.prototype.ngOnInit = function () {
        this.onGotoDesign = this.gotoDesign.bind(this);
        this.isLoadingInstance = true;
        this.title = 'Loading ...';
        this.loadInstance();
    };
    InstanceDetailsComponent.prototype.downloadXml = function () {
        this.fileHelperService.downloadXml(this.instance.instanceAsXml);
    };
    InstanceDetailsComponent.prototype.downloadDoc = function () {
        this.fileHelperService.downloadDoc(this.instance.instanceAsDoc);
    };
    InstanceDetailsComponent.prototype.delete = function () {
        var _this = this;
        this.instancesService.deleteInstance(this.instance).subscribe(function () {
            _this.navigationHelperService.navigateToOrgInstance('', '');
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to delete instance', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceDetailsComponent.prototype.isAdmin = function () {
        // TODO :
        return this.authService.authState.user === 'rmj';
    };
    InstanceDetailsComponent.prototype.loadInstance = function () {
        var _this = this;
        var instanceId = this.route.snapshot.params['id'];
        var version = this.route.snapshot.queryParams['instanceVersion'];
        this.instancesService.getInstance(instanceId, version).subscribe(function (instance) {
            _this.title = instance.name;
            _this.instance = instance;
            _this.loadDesigns();
        }, function (err) {
            // TODO: make this as a general component
            if (err.status == 404) {
                _this.router.navigate(['/error404'], { relativeTo: _this.route, replaceUrl: true });
            }
            _this.title = 'Error while loading';
            _this.isLoadingInstance = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get instance', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    // TODO this should be deleted and taken directly from the instance-model when service registry has proper data. from instance.designs
    InstanceDetailsComponent.prototype.loadDesigns = function () {
        var _this = this;
        this.designsService.getDesignsForInstance(this.instance).subscribe(function (designs) {
            _this.designs = designs;
            _this.labelValues = _this.viewModelService.generateLabelValuesForInstance(_this.instance);
            _this.generateLabelValuesForDesigns();
            _this.isLoadingInstance = false;
        }, function (err) {
            _this.isLoadingInstance = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get designs', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceDetailsComponent.prototype.generateLabelValuesForDesigns = function () {
        var _this = this;
        if (this.designs && this.designs.length > 0) {
            var plur = (this.designs.length > 1 ? 's' : '');
            var label = 'Implemented design' + plur;
            this.designs.forEach(function (design) {
                _this.labelValues.push({ label: label, valueHtml: design.name + " - " + design.version, linkFunction: _this.onGotoDesign, linkValue: [design.designId, design.version] });
                label = "";
            });
        }
    };
    InstanceDetailsComponent.prototype.gotoDesign = function (linkValue) {
        try {
            this.navigationHelperService.navigateToOrgDesign(linkValue[0], linkValue[1]);
        }
        catch (error) {
            this.notifications.generateNotification('Error', 'Error when trying to go to design', mc_notifications_service_1.MCNotificationType.Error, error);
        }
    };
    InstanceDetailsComponent = __decorate([
        core_1.Component({
            selector: 'instance-details',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-details/instance-details.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof auth_service_1.AuthService !== 'undefined' && auth_service_1.AuthService) === 'function' && _a) || Object, (typeof (_b = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _b) || Object, (typeof (_c = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _c) || Object, (typeof (_d = typeof sr_view_model_service_1.SrViewModelService !== 'undefined' && sr_view_model_service_1.SrViewModelService) === 'function' && _d) || Object, (typeof (_e = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _e) || Object, (typeof (_f = typeof instances_service_1.InstancesService !== 'undefined' && instances_service_1.InstancesService) === 'function' && _f) || Object, (typeof (_g = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _g) || Object, (typeof (_h = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _h) || Object, (typeof (_j = typeof file_helper_service_1.FileHelperService !== 'undefined' && file_helper_service_1.FileHelperService) === 'function' && _j) || Object])
    ], InstanceDetailsComponent);
    return InstanceDetailsComponent;
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
}());
exports.InstanceDetailsComponent = InstanceDetailsComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-details/instance-details.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{title}}\" baCardClass=\"with-scroll table-panel\">\r\n      <mc-label-value-table [isLoading]=\"isLoadingInstance\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n      <ul *ngIf=\"instance && !isLoadingInstance\" class=\"btn-list clearfix\">\r\n        <li *ngIf=\"instance.instanceAsDoc\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadDoc()\">Download document</button>\r\n        </li>\r\n        <li *ngIf=\"instance.instanceAsXml\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadXml()\">Download XML</button>\r\n        </li>\r\n        <li *ngIf=\"isAdmin()\">\r\n          <button type=\"button\" class=\"btn btn-danger btn-raised\" (click)=\"delete()\">Delete Instance</button>\r\n        </li>\r\n      </ul>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-list/instance-list.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var instances_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/instances.service.ts");
var InstanceListComponent = (function () {
    function InstanceListComponent(route, router, notifications, orgService, instancesService) {
        this.route = route;
        this.router = router;
        this.notifications = notifications;
        this.orgService = orgService;
        this.instancesService = instancesService;
        this.organization = {};
    }
    InstanceListComponent.prototype.ngOnInit = function () {
        this.cardTitle = 'Loading ...';
        this.onGotoInstance = this.gotoInstance.bind(this);
        this.isLoading = true;
        this.loadMyOrganization();
        this.loadInstances();
    };
    InstanceListComponent.prototype.loadInstances = function () {
        var _this = this;
        this.instancesService.getInstancesForMyOrg().subscribe(function (instances) {
            _this.instances = instances;
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get instances', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceListComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            //this.cardTitle = 'Instances for ' + organization.name;
            _this.cardTitle = 'All Instances';
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceListComponent.prototype.gotoInstance = function (index) {
        this.router.navigate([this.instances[index].instanceId], { queryParams: { instanceVersion: this.instances[index].version }, relativeTo: this.route });
    };
    InstanceListComponent = __decorate([
        core_1.Component({
            selector: 'instance-list',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-list/instance-list.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _a) || Object, (typeof (_b = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _b) || Object, (typeof (_c = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _c) || Object, (typeof (_d = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _d) || Object, (typeof (_e = typeof instances_service_1.InstancesService !== 'undefined' && instances_service_1.InstancesService) === 'function' && _e) || Object])
    ], InstanceListComponent);
    return InstanceListComponent;
    var _a, _b, _c, _d, _e;
}());
exports.InstanceListComponent = InstanceListComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-list/instance-list.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{cardTitle}}\" baCardClass=\"with-scroll table-panel\">\r\n      <instances-table [instances]=\"instances\" [isLoading]=\"isLoading\" [onRowClick]=\"onGotoInstance\"></instances-table>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-new/instance-new.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mcFileUploader_component_1 = __webpack_require__("./src/app/theme/components/mcFileUploader/mcFileUploader.component.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var xml_parser_service_1 = __webpack_require__("./src/app/shared/xml-parser.service.ts");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var instances_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/instances.service.ts");
var id_services_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/id-services.service.ts");
var InstanceNewComponent = (function () {
    function InstanceNewComponent(activatedRoute, xmlParserService, viewModelService, navigationService, notifications, designsService, orgService, instancesService, idServicesService) {
        this.activatedRoute = activatedRoute;
        this.xmlParserService = xmlParserService;
        this.viewModelService = viewModelService;
        this.navigationService = navigationService;
        this.notifications = notifications;
        this.designsService = designsService;
        this.orgService = orgService;
        this.instancesService = instancesService;
        this.idServicesService = idServicesService;
        this.captionXml = 'Upload Instance Xml file';
        this.captionDoc = 'Upload Instance Document file';
        this.fileTypeXml = mcFileUploader_component_1.FileUploadType.Xml;
        this.fileTypeDoc = mcFileUploader_component_1.FileUploadType.Doc;
        this.requiredTextXml = 'You need to upload Xml file';
        this.isFormValid = false;
        this.isLoading = true;
        this.isRegistering = false;
        this.registerTitle = "Register Instance";
        this.registerButtonClass = "btn btn-danger btn-raised";
        this.organization = {};
    }
    InstanceNewComponent.prototype.ngOnInit = function () {
        this.onRegister = this.register.bind(this);
        this.isRegistering = false;
        this.isLoading = true;
        this.loadMyOrganization();
        this.loadDesign();
    };
    InstanceNewComponent.prototype.calculateFormValid = function () {
        this.isFormValid = this.xml != null;
    };
    InstanceNewComponent.prototype.onUploadDoc = function (file) {
        this.doc = file;
        this.calculateFormValid();
    };
    InstanceNewComponent.prototype.onUploadXml = function (file) {
        this.xml = file;
        this.calculateFormValid();
    };
    InstanceNewComponent.prototype.cancel = function () {
        this.navigationService.cancelCreateInstance();
    };
    InstanceNewComponent.prototype.register = function () {
        this.isRegistering = true;
        try {
            var instance = {};
            instance.instanceAsXml = this.xml;
            instance.instanceAsDoc = this.doc;
            instance.name = this.xmlParserService.getValueFromField('name', this.xml);
            instance.description = this.xmlParserService.getValueFromField('description', this.xml);
            instance.instanceId = this.xmlParserService.getValueFromField('id', this.xml);
            instance.status = this.xmlParserService.getValueFromField('status', this.xml);
            instance.keywords = this.xmlParserService.getValueFromField('keywords', this.xml);
            instance.organizationId = this.organization.mrn;
            instance.version = this.xmlParserService.getValueFromField('version', this.xml);
            instance.designs = [this.design];
            this.createInstance(instance);
        }
        catch (error) {
            this.isRegistering = false;
            this.notifications.generateNotification('Error in XML', error.message, mc_notifications_service_1.MCNotificationType.Error, error);
        }
    };
    InstanceNewComponent.prototype.createInstance = function (instance) {
        var _this = this;
        this.instancesService.createInstance(instance).subscribe(function (instanceCreated) {
            _this.createIdService(instanceCreated);
            _this.isRegistering = false;
        }, function (err) {
            _this.isRegistering = false;
            _this.notifications.generateNotification('Error', 'Error when trying to create instance', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceNewComponent.prototype.createIdService = function (instance) {
        // TODO mere snak nødvendigt før det er på plads
        this.navigationService.navigateToOrgInstance(instance.instanceId, instance.version);
        /*
        let idService:Service = {};
    
        this.idServicesService.createIdService(idService).subscribe(
          service => {
          },
          err => {
            this.notifications.generateNotification('Error', 'Error when trying to create service instance in Identity Registry', MCNotificationType.Error, err);
          },
          () => {
            this.navigationService.navigateToOrgInstance(instance.instanceId);
          }
        );
        */
    };
    InstanceNewComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            _this.calculateFormValid();
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceNewComponent.prototype.loadDesign = function () {
        var _this = this;
        var designId = this.activatedRoute.snapshot.queryParams['designId'];
        var version = this.activatedRoute.snapshot.queryParams['designVersion'];
        this.designsService.getDesign(designId, version).subscribe(function (design) {
            _this.design = design;
            _this.labelValues = _this.viewModelService.generateLabelValuesForDesign(_this.design);
            _this.calculateFormValid();
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get design', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    InstanceNewComponent = __decorate([
        core_1.Component({
            selector: 'instance-new',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-new/instance-new.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _a) || Object, (typeof (_b = typeof xml_parser_service_1.XmlParserService !== 'undefined' && xml_parser_service_1.XmlParserService) === 'function' && _b) || Object, (typeof (_c = typeof sr_view_model_service_1.SrViewModelService !== 'undefined' && sr_view_model_service_1.SrViewModelService) === 'function' && _c) || Object, (typeof (_d = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _d) || Object, (typeof (_e = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _e) || Object, (typeof (_f = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _f) || Object, (typeof (_g = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _g) || Object, (typeof (_h = typeof instances_service_1.InstancesService !== 'undefined' && instances_service_1.InstancesService) === 'function' && _h) || Object, (typeof (_j = typeof id_services_service_1.IdServicesService !== 'undefined' && id_services_service_1.IdServicesService) === 'function' && _j) || Object])
    ], InstanceNewComponent);
    return InstanceNewComponent;
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
}());
exports.InstanceNewComponent = InstanceNewComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/components/instance-new/instance-new.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"Register new Instance for {{organization.name}}\" baCardClass=\"with-scroll table-panel\">\r\n      <h5 *ngIf=\"design\">Registering an instance for this design</h5>\r\n      <mc-label-value-table [isLoading]=\"isLoading\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n\r\n      <div class=\"separator\"></div>\r\n\r\n      <div *ngIf=\"design\">\r\n        <form>\r\n          <mc-file-uploader [caption]=\"captionXml\" [fileUploadType]=\"fileTypeXml\" [requiredText]=\"requiredTextXml\" (onUpload)=\"onUploadXml($event)\"></mc-file-uploader>\r\n          <mc-file-uploader [caption]=\"captionDoc\" [fileUploadType]=\"fileTypeDoc\" (onUpload)=\"onUploadDoc($event)\"></mc-file-uploader>\r\n          <ul class=\"btn-list clearfix\">\r\n            <li>\r\n              <mc-loading-button [class]=\"registerButtonClass\" [disabled]=\"!isFormValid\" [isLoading]=\"isRegistering\" [title]=\"registerTitle\" [onClick]=\"onRegister\" ></mc-loading-button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" class=\"btn btn-default btn-raised\" (click)=\"cancel()\">Cancel</button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n      <div class=\"no-data\" *ngIf=\"!design && !isLoading\">No data</div>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/instances/instances.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var InstancesComponent = (function () {
    function InstancesComponent() {
    }
    InstancesComponent = __decorate([
        core_1.Component({
            selector: 'instancess',
            template: "<router-outlet></router-outlet>"
        }), 
        __metadata('design:paramtypes', [])
    ], InstancesComponent);
    return InstancesComponent;
}());
exports.InstancesComponent = InstancesComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/instances.module.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var common_1 = __webpack_require__("./node_modules/@angular/common/index.js");
var instances_routing_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/instances.routing.ts");
var nga_module_1 = __webpack_require__("./src/app/theme/nga.module.ts");
var shared_module_1 = __webpack_require__("./src/app/pages/shared/shared.module.ts");
var instances_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/instances.component.ts");
var instance_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-list/instance-list.component.ts");
var instance_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-details/instance-details.component.ts");
var instance_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-new/instance-new.component.ts");
var InstancesModule = (function () {
    function InstancesModule() {
    }
    InstancesModule = __decorate([
        core_1.NgModule({
            imports: [
                common_1.CommonModule,
                nga_module_1.NgaModule,
                shared_module_1.SharedModule,
                instances_routing_1.routing
            ],
            declarations: [
                instances_component_1.InstancesComponent,
                instance_list_component_1.InstanceListComponent,
                instance_details_component_1.InstanceDetailsComponent,
                instance_new_component_1.InstanceNewComponent
            ]
        }), 
        __metadata('design:paramtypes', [])
    ], InstancesModule);
    return InstancesModule;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = InstancesModule;


/***/ },

/***/ "./src/app/pages/org-service-registry/instances/instances.routing.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var instances_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/instances.component.ts");
var instance_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-list/instance-list.component.ts");
var instance_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-details/instance-details.component.ts");
var instance_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/components/instance-new/instance-new.component.ts");
// noinspection TypeScriptValidateTypes
exports.routes = [
    {
        path: 'instances',
        component: instances_component_1.InstancesComponent,
        data: { breadcrumb: 'Instances' },
        children: [
            {
                path: '',
                component: instance_list_component_1.InstanceListComponent
            },
            {
                path: 'register',
                component: instance_new_component_1.InstanceNewComponent,
                data: { breadcrumb: 'Register' }
            },
            {
                path: ':id',
                component: instance_details_component_1.InstanceDetailsComponent,
                data: { breadcrumb: 'Details' }
            }
        ]
    }
];
exports.routing = router_1.RouterModule.forChild(exports.routes);


/***/ },

/***/ "./src/app/pages/org-service-registry/org-service-registry.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var OrgServiceRegistryComponent = (function () {
    function OrgServiceRegistryComponent() {
    }
    OrgServiceRegistryComponent = __decorate([
        core_1.Component({
            selector: 'org-service-registry',
            template: "<router-outlet></router-outlet>"
        }), 
        __metadata('design:paramtypes', [])
    ], OrgServiceRegistryComponent);
    return OrgServiceRegistryComponent;
}());
exports.OrgServiceRegistryComponent = OrgServiceRegistryComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/org-service-registry.module.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var common_1 = __webpack_require__("./node_modules/@angular/common/index.js");
var nga_module_1 = __webpack_require__("./src/app/theme/nga.module.ts");
var org_service_registry_routing_1 = __webpack_require__("./src/app/pages/org-service-registry/org-service-registry.routing.ts");
var org_service_registry_component_1 = __webpack_require__("./src/app/pages/org-service-registry/org-service-registry.component.ts");
var specifications_module_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/specifications.module.ts");
var designs_module_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/designs.module.ts");
var instances_module_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/instances.module.ts");
var OrgServiceRegistryModule = (function () {
    function OrgServiceRegistryModule() {
    }
    OrgServiceRegistryModule = __decorate([
        core_1.NgModule({
            imports: [
                common_1.CommonModule,
                nga_module_1.NgaModule,
                specifications_module_1.default,
                designs_module_1.default,
                instances_module_1.default,
                org_service_registry_routing_1.routing
            ],
            declarations: [
                org_service_registry_component_1.OrgServiceRegistryComponent
            ]
        }), 
        __metadata('design:paramtypes', [])
    ], OrgServiceRegistryModule);
    return OrgServiceRegistryModule;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = OrgServiceRegistryModule;


/***/ },

/***/ "./src/app/pages/org-service-registry/org-service-registry.routing.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var org_service_registry_component_1 = __webpack_require__("./src/app/pages/org-service-registry/org-service-registry.component.ts");
var specifications_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/specifications.component.ts");
var designs_component_1 = __webpack_require__("./src/app/pages/org-service-registry/designs/designs.component.ts");
var instances_component_1 = __webpack_require__("./src/app/pages/org-service-registry/instances/instances.component.ts");
// noinspection TypeScriptValidateTypes
var routes = [
    {
        path: '',
        component: org_service_registry_component_1.OrgServiceRegistryComponent,
        children: [
            { path: 'specifications', component: specifications_component_1.SpecificationsComponent },
            { path: 'designs', component: designs_component_1.DesignsComponent },
            { path: 'instances', component: instances_component_1.InstancesComponent }
        ]
    }
];
exports.routing = router_1.RouterModule.forChild(routes);


/***/ },

/***/ "./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var SrViewModelService = (function () {
    function SrViewModelService() {
    }
    SrViewModelService.prototype.ngOnInit = function () {
    };
    SrViewModelService.prototype.generateLabelValuesForSpecification = function (specification) {
        var labelValues = undefined;
        if (specification) {
            labelValues = [];
            labelValues.push({ label: 'ID', valueHtml: specification.specificationId });
            labelValues.push({ label: 'Name', valueHtml: specification.name });
            labelValues.push({ label: 'Version', valueHtml: specification.version });
            labelValues.push({ label: 'Status', valueHtml: specification.status });
            labelValues.push({ label: 'Description', valueHtml: specification.description });
        }
        return labelValues;
    };
    SrViewModelService.prototype.generateLabelValuesForDesign = function (design) {
        var labelValues = undefined;
        if (design) {
            labelValues = [];
            labelValues.push({ label: 'ID', valueHtml: design.designId });
            labelValues.push({ label: 'Name', valueHtml: design.name });
            labelValues.push({ label: 'Version', valueHtml: design.version });
            labelValues.push({ label: 'Status', valueHtml: design.status });
            labelValues.push({ label: 'Description', valueHtml: design.description });
        }
        return labelValues;
    };
    SrViewModelService.prototype.generateLabelValuesForInstance = function (instance) {
        var labelValues = undefined;
        if (instance) {
            labelValues = [];
            labelValues.push({ label: 'ID', valueHtml: instance.instanceId });
            labelValues.push({ label: 'Name', valueHtml: instance.name });
            labelValues.push({ label: 'Version', valueHtml: instance.version });
            labelValues.push({ label: 'Status', valueHtml: instance.status });
            labelValues.push({ label: 'Description', valueHtml: instance.description });
            labelValues.push({ label: 'Service endpoint', valueHtml: instance.endpointUri });
        }
        return labelValues;
    };
    SrViewModelService = __decorate([
        core_1.Injectable(), 
        __metadata('design:paramtypes', [])
    ], SrViewModelService);
    return SrViewModelService;
}());
exports.SrViewModelService = SrViewModelService;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-details/specification-details.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var specifications_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/specifications.service.ts");
var file_helper_service_1 = __webpack_require__("./src/app/shared/file-helper.service.ts");
var designs_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/designs.service.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var instances_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/instances.service.ts");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var auth_service_1 = __webpack_require__("./src/app/authentication/services/auth.service.ts");
var SpecificationDetailsComponent = (function () {
    function SpecificationDetailsComponent(authService, route, router, viewModelService, navigationHelperService, instancesService, notifications, specificationsService, designsService, fileHelperService) {
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.viewModelService = viewModelService;
        this.navigationHelperService = navigationHelperService;
        this.instancesService = instancesService;
        this.notifications = notifications;
        this.specificationsService = specificationsService;
        this.designsService = designsService;
        this.fileHelperService = fileHelperService;
    }
    SpecificationDetailsComponent.prototype.ngOnInit = function () {
        this.onCreate = this.createDesign.bind(this);
        this.onGotoDesign = this.gotoDesign.bind(this);
        this.onGotoInstance = this.gotoInstance.bind(this);
        this.isLoadingSpecification = true;
        this.isLoadingDesigns = true;
        this.isLoadingInstances = true;
        this.title = 'Loading ...';
        var specificationId = this.route.snapshot.params['id'];
        var version = this.route.snapshot.queryParams['specificationVersion'];
        this.loadSpecification(specificationId, version);
    };
    SpecificationDetailsComponent.prototype.downloadXml = function () {
        this.fileHelperService.downloadXml(this.specification.specAsXml);
    };
    SpecificationDetailsComponent.prototype.downloadDoc = function () {
        this.fileHelperService.downloadDoc(this.specification.specAsDoc);
    };
    SpecificationDetailsComponent.prototype.delete = function () {
        var _this = this;
        this.specificationsService.deleteSpecification(this.specification).subscribe(function () {
            _this.navigationHelperService.navigateToOrgSpecification('', '');
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to delete specification', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationDetailsComponent.prototype.gotoDesign = function (index) {
        this.navigationHelperService.navigateToOrgDesign(this.designs[index].designId, this.designs[index].version);
    };
    SpecificationDetailsComponent.prototype.loadSpecification = function (specificationId, version) {
        var _this = this;
        this.specificationsService.getSpecification(specificationId, version).subscribe(function (specification) {
            _this.title = specification.name;
            _this.specification = specification;
            _this.labelValues = _this.viewModelService.generateLabelValuesForSpecification(_this.specification);
            _this.isLoadingSpecification = false;
            _this.loadDesigns();
            _this.loadInstances();
        }, function (err) {
            // TODO: make this as a general component
            if (err.status == 404) {
                _this.router.navigate(['/error404'], { relativeTo: _this.route, replaceUrl: true });
            }
            _this.title = 'Error while loading';
            _this.isLoadingSpecification = false;
            _this.isLoadingDesigns = false;
            _this.isLoadingInstances = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get specification', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationDetailsComponent.prototype.isAdmin = function () {
        // TODO ;-)
        return this.authService.authState.user === 'rmj';
    };
    SpecificationDetailsComponent.prototype.loadInstances = function () {
        var _this = this;
        this.instancesService.getInstancesForSpecification(this.specification.specificationId, this.specification.version).subscribe(function (instances) {
            _this.instances = instances;
            _this.isLoadingInstances = false;
        }, function (err) {
            _this.isLoadingInstances = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get instances', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationDetailsComponent.prototype.loadDesigns = function () {
        var _this = this;
        this.designsService.getDesignsForSpecification(this.specification.specificationId, this.specification.version).subscribe(function (designs) {
            _this.designs = designs;
            _this.isLoadingDesigns = false;
        }, function (err) {
            _this.isLoadingDesigns = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get designs', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationDetailsComponent.prototype.createDesign = function () {
        this.navigationHelperService.navigateToCreateDesign(this.specification.specificationId, this.specification.version);
    };
    SpecificationDetailsComponent.prototype.gotoInstance = function (index) {
        this.navigationHelperService.navigateToOrgInstance(this.instances[index].instanceId, this.instances[index].version);
    };
    SpecificationDetailsComponent = __decorate([
        core_1.Component({
            selector: 'specification-details',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-details/specification-details.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof auth_service_1.AuthService !== 'undefined' && auth_service_1.AuthService) === 'function' && _a) || Object, (typeof (_b = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _b) || Object, (typeof (_c = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _c) || Object, (typeof (_d = typeof sr_view_model_service_1.SrViewModelService !== 'undefined' && sr_view_model_service_1.SrViewModelService) === 'function' && _d) || Object, (typeof (_e = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _e) || Object, (typeof (_f = typeof instances_service_1.InstancesService !== 'undefined' && instances_service_1.InstancesService) === 'function' && _f) || Object, (typeof (_g = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _g) || Object, (typeof (_h = typeof specifications_service_1.SpecificationsService !== 'undefined' && specifications_service_1.SpecificationsService) === 'function' && _h) || Object, (typeof (_j = typeof designs_service_1.DesignsService !== 'undefined' && designs_service_1.DesignsService) === 'function' && _j) || Object, (typeof (_k = typeof file_helper_service_1.FileHelperService !== 'undefined' && file_helper_service_1.FileHelperService) === 'function' && _k) || Object])
    ], SpecificationDetailsComponent);
    return SpecificationDetailsComponent;
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
}());
exports.SpecificationDetailsComponent = SpecificationDetailsComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-details/specification-details.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{title}}\" baCardClass=\"with-scroll table-panel\">\r\n      <mc-label-value-table [isLoading]=\"isLoadingSpecification\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n      <ul *ngIf=\"specification && !isLoadingSpecification\" class=\"btn-list clearfix\">\r\n        <li *ngIf=\"specification.specAsDoc\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadDoc()\">Download document</button>\r\n        </li>\r\n        <li *ngIf=\"specification.specAsXml\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"downloadXml()\">Download XML</button>\r\n        </li>\r\n        <li *ngIf=\"isAdmin()\">\r\n          <button type=\"button\" class=\"btn btn-danger btn-raised\" (click)=\"delete()\">Delete Specification</button>\r\n        </li>\r\n      </ul>\r\n\r\n      <div class=\"separator\"></div>\r\n\r\n      <h5>Designs that implements this Specification</h5>\r\n      <designs-table [designs]=\"designs\" [isLoading]=\"isLoadingDesigns\" [onRowClick]=\"onGotoDesign\"></designs-table>\r\n      <mc-create-button *ngIf=\"!isLoadingDesigns\" title=\"Register new Design\" [onClick]=\"onCreate\"></mc-create-button>\r\n\r\n      <!-- Doesn't work atm.\r\n      <div class=\"separator\"></div>\r\n\r\n      <h5>Instances that implements this Specification</h5>\r\n      <instances-table [instances]=\"instances\" [isLoading]=\"isLoadingInstances\" [onRowClick]=\"onGotoInstance\"></instances-table>\r\n      -->\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-list/specification-list.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var specifications_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/specifications.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var SpecificationListComponent = (function () {
    function SpecificationListComponent(navigationService, route, router, notifications, orgService, specificationsService) {
        this.navigationService = navigationService;
        this.route = route;
        this.router = router;
        this.notifications = notifications;
        this.orgService = orgService;
        this.specificationsService = specificationsService;
        this.organization = {};
    }
    SpecificationListComponent.prototype.ngOnInit = function () {
        this.cardTitle = 'Loading ...';
        this.onCreate = this.createSpecification.bind(this);
        this.onGotoSpec = this.gotoSpecification.bind(this);
        this.isLoading = true;
        this.loadMyOrganization();
        this.loadSpecifications();
    };
    SpecificationListComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            // TODO: change when filtering on organization
            //this.cardTitle = 'Specifications for ' + organization.name;
            _this.cardTitle = 'All Specifications';
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationListComponent.prototype.loadSpecifications = function () {
        var _this = this;
        this.specificationsService.getSpecificationsForMyOrg().subscribe(function (specifications) {
            _this.specifications = specifications;
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notifications.generateNotification('Error', 'Error when trying to get specifications', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationListComponent.prototype.createSpecification = function () {
        this.navigationService.navigateToCreateSpecification();
    };
    SpecificationListComponent.prototype.gotoSpecification = function (index) {
        this.router.navigate([this.specifications[index].specificationId], { queryParams: { specificationVersion: this.specifications[index].version }, relativeTo: this.route });
    };
    SpecificationListComponent = __decorate([
        core_1.Component({
            selector: 'specification-list',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-list/specification-list.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _a) || Object, (typeof (_b = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _b) || Object, (typeof (_c = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _c) || Object, (typeof (_d = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _d) || Object, (typeof (_e = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _e) || Object, (typeof (_f = typeof specifications_service_1.SpecificationsService !== 'undefined' && specifications_service_1.SpecificationsService) === 'function' && _f) || Object])
    ], SpecificationListComponent);
    return SpecificationListComponent;
    var _a, _b, _c, _d, _e, _f;
}());
exports.SpecificationListComponent = SpecificationListComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-list/specification-list.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"{{cardTitle}}\" baCardClass=\"with-scroll table-panel\">\r\n      <specifications-table [specifications]=\"specifications\" [isLoading]=\"isLoading\" [onRowClick]=\"onGotoSpec\"></specifications-table>\r\n      <mc-create-button *ngIf=\"!isLoading\" title=\"Register new Specification\" [onClick]=\"onCreate\" ></mc-create-button>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-new/specification-new.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var specifications_service_1 = __webpack_require__("./src/app/backend-api/service-registry/services/specifications.service.ts");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var organizations_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/organizations.service.ts");
var mcFileUploader_component_1 = __webpack_require__("./src/app/theme/components/mcFileUploader/mcFileUploader.component.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var xml_parser_service_1 = __webpack_require__("./src/app/shared/xml-parser.service.ts");
var _ = __webpack_require__("./node_modules/lodash/lodash.js");
var SpecificationNewComponent = (function () {
    function SpecificationNewComponent(xmlParserService, navigationService, notifications, specificationsService, orgService) {
        this.xmlParserService = xmlParserService;
        this.navigationService = navigationService;
        this.notifications = notifications;
        this.specificationsService = specificationsService;
        this.orgService = orgService;
        this.captionXml = 'Upload Specification Xml file';
        this.captionDoc = 'Upload Specification Document file';
        this.fileTypeXml = mcFileUploader_component_1.FileUploadType.Xml;
        this.fileTypeDoc = mcFileUploader_component_1.FileUploadType.Doc;
        this.requiredTextXml = 'You need to upload Xml file';
        this.isFormValid = false;
        this.isLoading = true;
        this.isRegistering = false;
        this.registerTitle = "Register Specification";
        this.registerButtonClass = "btn btn-danger btn-raised";
        this.organization = {};
    }
    SpecificationNewComponent.prototype.ngOnInit = function () {
        this.onRegister = this.register.bind(this);
        this.isRegistering = false;
        this.loadMyOrganization();
        this.calculateFormValid();
    };
    SpecificationNewComponent.prototype.calculateFormValid = function () {
        this.isFormValid = this.xml != null;
    };
    SpecificationNewComponent.prototype.onUploadDoc = function (file) {
        this.doc = file;
        this.calculateFormValid();
    };
    SpecificationNewComponent.prototype.onUploadXml = function (file) {
        this.xml = file;
        this.calculateFormValid();
    };
    SpecificationNewComponent.prototype.cancel = function () {
        this.navigationService.cancelCreateSpecification();
    };
    SpecificationNewComponent.prototype.register = function () {
        this.isRegistering = true;
        try {
            var specification = {};
            specification.specAsXml = _.cloneDeep(this.xml);
            specification.specAsDoc = this.doc;
            specification.name = this.xmlParserService.getValueFromField('name', this.xml);
            specification.description = this.xmlParserService.getValueFromField('description', this.xml);
            specification.specificationId = this.xmlParserService.getValueFromField('id', this.xml);
            specification.keywords = this.xmlParserService.getValueFromField('keywords', this.xml);
            specification.status = this.xmlParserService.getValueFromField('status', this.xml);
            specification.organizationId = this.organization.mrn;
            specification.version = this.xmlParserService.getValueFromField('version', this.xml);
            this.createSpecification(specification);
        }
        catch (error) {
            this.isRegistering = false;
            this.notifications.generateNotification('Error in XML', error.message, mc_notifications_service_1.MCNotificationType.Error, error);
        }
    };
    SpecificationNewComponent.prototype.createSpecification = function (specification) {
        var _this = this;
        this.specificationsService.createSpecification(specification).subscribe(function (specification) {
            _this.isRegistering = false;
            _this.navigationService.navigateToOrgSpecification(specification.specificationId, specification.version);
        }, function (err) {
            _this.isRegistering = false;
            _this.notifications.generateNotification('Error', 'Error when trying to create specification', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    SpecificationNewComponent.prototype.loadMyOrganization = function () {
        var _this = this;
        this.isLoading = true;
        this.orgService.getMyOrganization().subscribe(function (organization) {
            _this.organization = organization;
            _this.isLoading = false;
        }, function (err) {
            _this.notifications.generateNotification('Error', 'Error when trying to get organization', mc_notifications_service_1.MCNotificationType.Error);
            _this.isLoading = false;
        });
    };
    SpecificationNewComponent = __decorate([
        core_1.Component({
            selector: 'specification-new',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-new/specification-new.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof xml_parser_service_1.XmlParserService !== 'undefined' && xml_parser_service_1.XmlParserService) === 'function' && _a) || Object, (typeof (_b = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _b) || Object, (typeof (_c = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _c) || Object, (typeof (_d = typeof specifications_service_1.SpecificationsService !== 'undefined' && specifications_service_1.SpecificationsService) === 'function' && _d) || Object, (typeof (_e = typeof organizations_service_1.OrganizationsService !== 'undefined' && organizations_service_1.OrganizationsService) === 'function' && _e) || Object])
    ], SpecificationNewComponent);
    return SpecificationNewComponent;
    var _a, _b, _c, _d, _e;
}());
exports.SpecificationNewComponent = SpecificationNewComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/components/specification-new/specification-new.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"Register new Specification for {{organization.name}}\" baCardClass=\"with-scroll table-panel\">\r\n      <div *ngIf=\"organization.mrn\">\r\n        <form>\r\n          <mc-file-uploader [caption]=\"captionXml\" [fileUploadType]=\"fileTypeXml\" [requiredText]=\"requiredTextXml\" (onUpload)=\"onUploadXml($event)\"></mc-file-uploader>\r\n          <mc-file-uploader [caption]=\"captionDoc\" [fileUploadType]=\"fileTypeDoc\" (onUpload)=\"onUploadDoc($event)\"></mc-file-uploader>\r\n          <ul class=\"btn-list clearfix\">\r\n            <li>\r\n              <mc-loading-button [class]=\"registerButtonClass\" [disabled]=\"!isFormValid\" [isLoading]=\"isRegistering\" [title]=\"registerTitle\" [onClick]=\"onRegister\" ></mc-loading-button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" class=\"btn btn-default btn-raised\" (click)=\"cancel()\">Cancel</button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n      <sk-fading-circle [isRunning]=\"isLoading\" ></sk-fading-circle>\r\n      <div class=\"no-data\" *ngIf=\"!organization.mrn && !isLoading\">No data</div>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/specifications.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var SpecificationsComponent = (function () {
    function SpecificationsComponent() {
    }
    SpecificationsComponent = __decorate([
        core_1.Component({
            selector: 'specifications',
            template: "<router-outlet></router-outlet>"
        }), 
        __metadata('design:paramtypes', [])
    ], SpecificationsComponent);
    return SpecificationsComponent;
}());
exports.SpecificationsComponent = SpecificationsComponent;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/specifications.module.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var common_1 = __webpack_require__("./node_modules/@angular/common/index.js");
var specifications_routing_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/specifications.routing.ts");
var specifications_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/specifications.component.ts");
var specification_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-list/specification-list.component.ts");
var specification_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-details/specification-details.component.ts");
var nga_module_1 = __webpack_require__("./src/app/theme/nga.module.ts");
var shared_module_1 = __webpack_require__("./src/app/pages/shared/shared.module.ts");
var specification_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-new/specification-new.component.ts");
var SpecificationsModule = (function () {
    function SpecificationsModule() {
    }
    SpecificationsModule = __decorate([
        core_1.NgModule({
            imports: [
                common_1.CommonModule,
                nga_module_1.NgaModule,
                shared_module_1.SharedModule,
                specifications_routing_1.routing
            ],
            declarations: [
                specifications_component_1.SpecificationsComponent,
                specification_details_component_1.SpecificationDetailsComponent,
                specification_list_component_1.SpecificationListComponent,
                specification_new_component_1.SpecificationNewComponent
            ]
        }), 
        __metadata('design:paramtypes', [])
    ], SpecificationsModule);
    return SpecificationsModule;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = SpecificationsModule;


/***/ },

/***/ "./src/app/pages/org-service-registry/specifications/specifications.routing.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var specifications_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/specifications.component.ts");
var specification_list_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-list/specification-list.component.ts");
var specification_details_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-details/specification-details.component.ts");
var specification_new_component_1 = __webpack_require__("./src/app/pages/org-service-registry/specifications/components/specification-new/specification-new.component.ts");
// noinspection TypeScriptValidateTypes
var routes = [
    {
        path: 'specifications',
        component: specifications_component_1.SpecificationsComponent,
        data: { breadcrumb: 'Specifications' },
        children: [
            {
                path: '',
                component: specification_list_component_1.SpecificationListComponent
            },
            {
                path: 'register',
                component: specification_new_component_1.SpecificationNewComponent,
                data: { breadcrumb: 'Register' }
            },
            {
                path: ':id',
                component: specification_details_component_1.SpecificationDetailsComponent,
                data: { breadcrumb: 'Details' }
            }
        ]
    }
];
exports.routing = router_1.RouterModule.forChild(routes);


/***/ },

/***/ "./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var router_1 = __webpack_require__("./node_modules/@angular/router/index.js");
var certificates_service_1 = __webpack_require__("./src/app/backend-api/identity-registry/services/certificates.service.ts");
var file_helper_service_1 = __webpack_require__("./src/app/shared/file-helper.service.ts");
var CertificateIssueNewComponent = (function () {
    function CertificateIssueNewComponent(fileHelper, certificateService, route, navigationHelper, notificationService) {
        this.fileHelper = fileHelper;
        this.certificateService = certificateService;
        this.route = route;
        this.navigationHelper = navigationHelper;
        this.notificationService = notificationService;
    }
    CertificateIssueNewComponent.prototype.ngOnInit = function () {
        this.isLoading = false;
        var entityType = this.route.snapshot.queryParams[navigation_helper_service_1.queryKeys.ENTITY_TYPE];
        var entityMrn = this.route.snapshot.queryParams[navigation_helper_service_1.queryKeys.ENTITY_MRN];
        var entityTitle = this.route.snapshot.queryParams[navigation_helper_service_1.queryKeys.ENTITY_TITLE];
        if (entityType == null || !entityMrn || !entityTitle) {
            this.notificationService.generateNotification("Error", "Unresolved state when trying to issue new certificate", mc_notifications_service_1.MCNotificationType.Error);
            this.navigationHelper.takeMeHome();
        }
        this.entityMrn = entityMrn;
        this.entityTitle = entityTitle;
        this.entityType = +entityType; // +-conversion from string to int
        this.generateLabelValues();
    };
    CertificateIssueNewComponent.prototype.zipAndDownload = function () {
        this.fileHelper.downloadPemCertificate(this.pemCertificate, this.entityTitle);
    };
    CertificateIssueNewComponent.prototype.issueNew = function () {
        var _this = this;
        this.isLoading = true;
        this.certificateService.issueNewCertificate(this.entityType, this.entityMrn).subscribe(function (pemCertificate) {
            _this.pemCertificate = pemCertificate;
            _this.isLoading = false;
        }, function (err) {
            _this.isLoading = false;
            _this.notificationService.generateNotification('Error', 'Error when trying to issue new certificate', mc_notifications_service_1.MCNotificationType.Error, err);
        });
    };
    CertificateIssueNewComponent.prototype.cancel = function () {
        this.navigationHelper.cancelNavigateCertificates();
    };
    CertificateIssueNewComponent.prototype.generateLabelValues = function () {
        this.labelValues = [];
        this.labelValues.push({ label: 'Name', valueHtml: this.entityTitle });
        this.labelValues.push({ label: 'MRN', valueHtml: this.entityMrn });
    };
    CertificateIssueNewComponent = __decorate([
        core_1.Component({
            selector: 'certificate-issue-new',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_a = typeof file_helper_service_1.FileHelperService !== 'undefined' && file_helper_service_1.FileHelperService) === 'function' && _a) || Object, (typeof (_b = typeof certificates_service_1.CertificatesService !== 'undefined' && certificates_service_1.CertificatesService) === 'function' && _b) || Object, (typeof (_c = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _c) || Object, (typeof (_d = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _d) || Object, (typeof (_e = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _e) || Object])
    ], CertificateIssueNewComponent);
    return CertificateIssueNewComponent;
    var _a, _b, _c, _d, _e;
}());
exports.CertificateIssueNewComponent = CertificateIssueNewComponent;


/***/ },

/***/ "./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.html":
/***/ function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <ba-card title=\"Issue new certificate\" baCardClass=\"with-scroll table-panel\">\r\n      <!-- Before issue -->\r\n      <div *ngIf=\"entityType != null && !pemCertificate && !isLoading\">\r\n        <h5>Issuing a new certificate for:</h5>\r\n        <mc-label-value-table [isLoading]=\"isLoading\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n        <ul *ngIf=\"entityType != null\" class=\"btn-list clearfix\">\r\n          <li>\r\n            <button type=\"button\" class=\"btn btn-danger btn-raised\" (click)=\"issueNew()\">Issue Certificate</button>\r\n          </li>\r\n          <li>\r\n            <button type=\"button\" class=\"btn btn-default btn-raised\" (click)=\"cancel()\">Cancel</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <sk-fading-circle [isRunning]=\"isLoading\" ></sk-fading-circle>\r\n\r\n      <!-- After issue and success -->\r\n      <div *ngIf=\"pemCertificate\">\r\n        Certificate issued with success\r\n        <ul *ngIf=\"entityType != null\" class=\"btn-list clearfix\">\r\n          <li>\r\n            <button type=\"button\" class=\"btn btn-primary btn-raised\" (click)=\"zipAndDownload()\">Download certificate</button>\r\n          </li>\r\n          <li>\r\n            <button type=\"button\" class=\"btn btn-default btn-raised\" (click)=\"cancel()\">OK</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </ba-card>\r\n  </div>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/shared/components/certificates-table/certificates-table.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var certificate_helper_service_1 = __webpack_require__("./src/app/pages/shared/services/certificate-helper.service.ts");
var theme_constants_1 = __webpack_require__("./src/app/theme/theme.constants.ts");
var auth_service_1 = __webpack_require__("./src/app/authentication/services/auth.service.ts");
var navigation_helper_service_1 = __webpack_require__("./src/app/shared/navigation-helper.service.ts");
var mc_notifications_service_1 = __webpack_require__("./src/app/shared/mc-notifications.service.ts");
var file_helper_service_1 = __webpack_require__("./src/app/shared/file-helper.service.ts");
var CertificatesTableComponent = (function () {
    function CertificatesTableComponent(fileHelper, navigationHelper, authService, certificateHelperService, notificationService) {
        this.fileHelper = fileHelper;
        this.navigationHelper = navigationHelper;
        this.authService = authService;
        this.certificateHelperService = certificateHelperService;
        this.notificationService = notificationService;
        this.newCertificateTitle = "Issue new Certificate";
        this.dateFormat = theme_constants_1.DATE_FORMAT;
        this.calculateTableClass();
        this.onIssueCertificate = this.issueCertificate.bind(this);
    }
    CertificatesTableComponent.prototype.ngOnChanges = function () {
        if (this.certificates) {
            this.certificateViewModels = this.certificateHelperService.convertCertificatesToViewModels(this.certificates);
            this.sortCertificates();
        }
    };
    CertificatesTableComponent.prototype.hasData = function () {
        return this.certificateViewModels && this.certificateViewModels.length > 0;
    };
    CertificatesTableComponent.prototype.sortCertificates = function () {
        // We are sorting with longest due date on top
        this.certificateViewModels.sort(function (obj1, obj2) {
            var obj1Time;
            var obj2Time;
            // Why is this needed??? for some reason sometimes the obj.end is a number and not a Date???
            if (typeof obj1.end === "Date") {
                obj1Time = obj1.end.getTime();
            }
            else {
                obj1Time = obj1.end;
            }
            if (typeof obj2.end === "Date") {
                obj2Time = obj2.end.getTime();
            }
            else {
                obj2Time = obj2.end;
            }
            if (obj1.revoked && obj2.revoked) {
                return obj2Time - obj1Time;
            }
            if (obj1.revoked) {
                return 1;
            }
            if (obj2.revoked) {
                return -1;
            }
            return obj2Time - obj1Time;
        });
    };
    CertificatesTableComponent.prototype.issueCertificate = function () {
        this.navigationHelper.navigateToIssueNewCertificate(this.certificateEntityType, this.entityMrn, this.certificateTitle);
    };
    CertificatesTableComponent.prototype.isAdmin = function () {
        return this.authService.authState.isAdmin();
    };
    CertificatesTableComponent.prototype.revoke = function (certificate) {
        this.notificationService.generateNotification('Not Implemented', 'Revoke coming soon', mc_notifications_service_1.MCNotificationType.Info);
    };
    CertificatesTableComponent.prototype.download = function (certificate) {
        var pemCertificate = { certificate: certificate.certificate };
        this.fileHelper.downloadPemCertificate(pemCertificate, this.certificateTitle);
    };
    CertificatesTableComponent.prototype.onWindowResize = function () {
        this.calculateTableClass();
    };
    CertificatesTableComponent.prototype.calculateTableClass = function () {
        this.tableClass = (this.isWindowToSmall() ? 'certificate-table-short' : 'certificate-table');
    };
    CertificatesTableComponent.prototype.isWindowToSmall = function () {
        return window.innerWidth <= theme_constants_1.layoutSizes.resWidthCollapseSidebar;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], CertificatesTableComponent.prototype, "certificates", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', (typeof (_a = typeof certificate_helper_service_1.CertificateEntityType !== 'undefined' && certificate_helper_service_1.CertificateEntityType) === 'function' && _a) || Object)
    ], CertificatesTableComponent.prototype, "certificateEntityType", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', String)
    ], CertificatesTableComponent.prototype, "entityMrn", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Boolean)
    ], CertificatesTableComponent.prototype, "isLoading", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', String)
    ], CertificatesTableComponent.prototype, "certificateTitle", void 0);
    __decorate([
        core_1.HostListener('window:resize'), 
        __metadata('design:type', Function), 
        __metadata('design:paramtypes', []), 
        __metadata('design:returntype', void 0)
    ], CertificatesTableComponent.prototype, "onWindowResize", null);
    CertificatesTableComponent = __decorate([
        core_1.Component({
            selector: 'certificates-table',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/certificates-table/certificates-table.html"),
            styles: [__webpack_require__("./src/app/pages/shared/components/certificates-table/certificates-table.scss")]
        }), 
        __metadata('design:paramtypes', [(typeof (_b = typeof file_helper_service_1.FileHelperService !== 'undefined' && file_helper_service_1.FileHelperService) === 'function' && _b) || Object, (typeof (_c = typeof navigation_helper_service_1.NavigationHelperService !== 'undefined' && navigation_helper_service_1.NavigationHelperService) === 'function' && _c) || Object, (typeof (_d = typeof auth_service_1.AuthService !== 'undefined' && auth_service_1.AuthService) === 'function' && _d) || Object, (typeof (_e = typeof certificate_helper_service_1.CertificateHelperService !== 'undefined' && certificate_helper_service_1.CertificateHelperService) === 'function' && _e) || Object, (typeof (_f = typeof mc_notifications_service_1.MCNotificationsService !== 'undefined' && mc_notifications_service_1.MCNotificationsService) === 'function' && _f) || Object])
    ], CertificatesTableComponent);
    return CertificatesTableComponent;
    var _a, _b, _c, _d, _e, _f;
}());
exports.CertificatesTableComponent = CertificatesTableComponent;


/***/ },

/***/ "./src/app/pages/shared/components/certificates-table/certificates-table.html":
/***/ function(module, exports) {

module.exports = "<div *ngIf=\"!isLoading && hasData()\">\r\n  <table class=\"table table-bordered {{tableClass}}\">\r\n    <thead>\r\n      <tr class=\"black-muted-bg\">\r\n        <th class=\"\">Certificate</th>\r\n        <th class=\"nowrap\">Valid from</th>\r\n        <th class=\"nowrap\">Valid to</th>\r\n        <th class=\"table-buttons\"></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let certificate of certificateViewModels; let i = index\">\r\n        <td class=\"\">{{'Certificate for ' + certificateTitle | truncate:50}}</td>\r\n        <td class=\"nowrap\">{{certificate.start | date:dateFormat}}</td>\r\n        <td class=\"nowrap\">{{certificate.end | date:dateFormat}}</td>\r\n        <td *ngIf=\"!certificate.revoked\" class=\"table-buttons\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-raised btn-sm\" (click)=\"download(certificate)\">Download certificate</button>\r\n          <button type=\"button\" *ngIf=\"isAdmin()\" class=\"btn btn-danger btn-raised btn-sm\" (click)=\"revoke(certificate)\">Revoke certificate</button>\r\n        </td>\r\n        <td *ngIf=\"certificate.revoked\" class=\"table-buttons\">\r\n          <span class=\"red-text\">Revoked ({{certificate.revokeReasonText}})</span>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n<sk-fading-circle [isRunning]=\"isLoading\" ></sk-fading-circle>\r\n<div class=\"no-data\" *ngIf=\"!hasData() && !isLoading\">No data</div>\r\n<div *ngIf=\"!isLoading\">\r\n  <mc-create-button [title]=\"newCertificateTitle\" [onClick]=\"onIssueCertificate\"></mc-create-button>\r\n</div>\r\n"

/***/ },

/***/ "./src/app/pages/shared/components/certificates-table/certificates-table.scss":
/***/ function(module, exports) {

module.exports = ".table-buttons {\n  width: 100%; }\n  .table-buttons button {\n    margin: 5px !important; }\n\n.certificate-table td {\n  vertical-align: middle; }\n\n.certificate-table td:first-child {\n  white-space: nowrap; }\n\n.certificate-table-short td {\n  vertical-align: middle; }\n\n.certificate-table-short td:first-child {\n  min-width: 200px; }\n"

/***/ },

/***/ "./src/app/pages/shared/components/designs-table/designs-table.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var DesignsTableComponent = (function () {
    function DesignsTableComponent() {
    }
    DesignsTableComponent.prototype.ngOnInit = function () {
    };
    DesignsTableComponent.prototype.ngOnChanges = function () {
        if (this.designs) {
            this.generateHeadersAndRows();
        }
    };
    DesignsTableComponent.prototype.generateHeadersAndRows = function () {
        var tableHeaders = [];
        var tableRows = [];
        var tableHeader = { title: 'Name', class: '' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Version', class: 'nowrap align-center' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Status', class: 'nowrap' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Description', class: '' };
        tableHeaders.push(tableHeader);
        for (var _i = 0, _a = this.designs; _i < _a.length; _i++) {
            var design = _a[_i];
            var cells = [];
            var tableCell = { valueHtml: design.name, class: '', truncateNumber: 50 };
            cells.push(tableCell);
            tableCell = { valueHtml: design.version, class: 'nowrap align-center', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: design.status, class: 'nowrap', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: design.description, class: 'table-description', truncateNumber: 250 };
            cells.push(tableCell);
            var tableRow = { cells: cells };
            tableRows.push(tableRow);
        }
        this.tableHeaders = tableHeaders;
        this.tableRows = tableRows;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], DesignsTableComponent.prototype, "designs", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Boolean)
    ], DesignsTableComponent.prototype, "isLoading", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Function)
    ], DesignsTableComponent.prototype, "onRowClick", void 0);
    DesignsTableComponent = __decorate([
        core_1.Component({
            selector: 'designs-table',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/designs-table/designs-table.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [])
    ], DesignsTableComponent);
    return DesignsTableComponent;
}());
exports.DesignsTableComponent = DesignsTableComponent;


/***/ },

/***/ "./src/app/pages/shared/components/designs-table/designs-table.html":
/***/ function(module, exports) {

module.exports = "<mc-table [tableHeaders]=\"tableHeaders\" [tableRows]=\"tableRows\" [isLoading]=\"isLoading\" [onRowClick]=\"onRowClick\"></mc-table>\r\n"

/***/ },

/***/ "./src/app/pages/shared/components/instances-table/instances-table.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var InstancesTableComponent = (function () {
    function InstancesTableComponent() {
    }
    InstancesTableComponent.prototype.ngOnInit = function () {
    };
    InstancesTableComponent.prototype.ngOnChanges = function () {
        if (this.instances) {
            this.generateHeadersAndRows();
        }
    };
    InstancesTableComponent.prototype.generateHeadersAndRows = function () {
        var tableHeaders = [];
        var tableRows = [];
        var tableHeader = { title: 'Name', class: '' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Version', class: 'nowrap align-center' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Status', class: 'nowrap' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Description', class: '' };
        tableHeaders.push(tableHeader);
        for (var _i = 0, _a = this.instances; _i < _a.length; _i++) {
            var instance = _a[_i];
            var cells = [];
            var tableCell = { valueHtml: instance.name, class: '', truncateNumber: 50 };
            cells.push(tableCell);
            tableCell = { valueHtml: instance.version, class: 'nowrap align-center', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: instance.status, class: 'nowrap', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: instance.description, class: 'table-description', truncateNumber: 250 };
            cells.push(tableCell);
            var tableRow = { cells: cells };
            tableRows.push(tableRow);
        }
        this.tableHeaders = tableHeaders;
        this.tableRows = tableRows;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], InstancesTableComponent.prototype, "instances", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Boolean)
    ], InstancesTableComponent.prototype, "isLoading", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Function)
    ], InstancesTableComponent.prototype, "onRowClick", void 0);
    InstancesTableComponent = __decorate([
        core_1.Component({
            selector: 'instances-table',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/instances-table/instances-table.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [])
    ], InstancesTableComponent);
    return InstancesTableComponent;
}());
exports.InstancesTableComponent = InstancesTableComponent;


/***/ },

/***/ "./src/app/pages/shared/components/instances-table/instances-table.html":
/***/ function(module, exports) {

module.exports = "<mc-table [tableHeaders]=\"tableHeaders\" [tableRows]=\"tableRows\" [isLoading]=\"isLoading\" [onRowClick]=\"onRowClick\"></mc-table>\r\n"

/***/ },

/***/ "./src/app/pages/shared/components/organizaton-details-table/organization-details-table.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var Organization_1 = __webpack_require__("./src/app/backend-api/identity-registry/autogen/model/Organization.ts");
var organization_view_model_service_1 = __webpack_require__("./src/app/pages/shared/services/organization-view-model.service.ts");
var OrganizationDetailsTableComponent = (function () {
    function OrganizationDetailsTableComponent(orgViewModelService) {
        this.orgViewModelService = orgViewModelService;
    }
    OrganizationDetailsTableComponent.prototype.ngOnChanges = function () {
        if (this.organization) {
            this.labelValues = this.orgViewModelService.generateLabelValuesForOrganization(this.organization);
        }
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Boolean)
    ], OrganizationDetailsTableComponent.prototype, "isLoading", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', (typeof (_a = typeof Organization_1.Organization !== 'undefined' && Organization_1.Organization) === 'function' && _a) || Object)
    ], OrganizationDetailsTableComponent.prototype, "organization", void 0);
    OrganizationDetailsTableComponent = __decorate([
        core_1.Component({
            selector: 'organization-details-table',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/organizaton-details-table/organization-details-table.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [(typeof (_b = typeof organization_view_model_service_1.OrganizationViewModelService !== 'undefined' && organization_view_model_service_1.OrganizationViewModelService) === 'function' && _b) || Object])
    ], OrganizationDetailsTableComponent);
    return OrganizationDetailsTableComponent;
    var _a, _b;
}());
exports.OrganizationDetailsTableComponent = OrganizationDetailsTableComponent;


/***/ },

/***/ "./src/app/pages/shared/components/organizaton-details-table/organization-details-table.html":
/***/ function(module, exports) {

module.exports = "<mc-label-value-table [isLoading]=\"isLoading\" [labelValues]=\"labelValues\"></mc-label-value-table>\r\n"

/***/ },

/***/ "./src/app/pages/shared/components/specifications-table/specifications-table.component.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var SpecificationsTableComponent = (function () {
    function SpecificationsTableComponent() {
    }
    SpecificationsTableComponent.prototype.ngOnInit = function () {
    };
    SpecificationsTableComponent.prototype.ngOnChanges = function () {
        if (this.specifications) {
            this.generateHeadersAndRows();
        }
    };
    SpecificationsTableComponent.prototype.generateHeadersAndRows = function () {
        var tableHeaders = [];
        var tableRows = [];
        var tableHeader = { title: 'Name', class: '' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Version', class: 'nowrap align-center' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Status', class: 'nowrap' };
        tableHeaders.push(tableHeader);
        tableHeader = { title: 'Description', class: '' };
        tableHeaders.push(tableHeader);
        for (var _i = 0, _a = this.specifications; _i < _a.length; _i++) {
            var specification = _a[_i];
            var cells = [];
            var tableCell = { valueHtml: specification.name, class: '', truncateNumber: 50 };
            cells.push(tableCell);
            tableCell = { valueHtml: specification.version, class: 'nowrap align-center', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: specification.status, class: 'nowrap', truncateNumber: 0 };
            cells.push(tableCell);
            tableCell = { valueHtml: specification.description, class: 'table-description', truncateNumber: 250 };
            cells.push(tableCell);
            var tableRow = { cells: cells };
            tableRows.push(tableRow);
        }
        this.tableHeaders = tableHeaders;
        this.tableRows = tableRows;
    };
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], SpecificationsTableComponent.prototype, "specifications", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Boolean)
    ], SpecificationsTableComponent.prototype, "isLoading", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Function)
    ], SpecificationsTableComponent.prototype, "onRowClick", void 0);
    SpecificationsTableComponent = __decorate([
        core_1.Component({
            selector: 'specifications-table',
            encapsulation: core_1.ViewEncapsulation.None,
            template: __webpack_require__("./src/app/pages/shared/components/specifications-table/specifications-table.html"),
            styles: []
        }), 
        __metadata('design:paramtypes', [])
    ], SpecificationsTableComponent);
    return SpecificationsTableComponent;
}());
exports.SpecificationsTableComponent = SpecificationsTableComponent;


/***/ },

/***/ "./src/app/pages/shared/components/specifications-table/specifications-table.html":
/***/ function(module, exports) {

module.exports = "<mc-table [tableHeaders]=\"tableHeaders\" [tableRows]=\"tableRows\" [isLoading]=\"isLoading\" [onRowClick]=\"onRowClick\"></mc-table>\r\n"

/***/ },

/***/ "./src/app/pages/shared/services/organization-view-model.service.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var OrganizationViewModelService = (function () {
    function OrganizationViewModelService() {
    }
    OrganizationViewModelService.prototype.ngOnInit = function () {
    };
    OrganizationViewModelService.prototype.generateLabelValuesForOrganization = function (organization) {
        var labelValues = undefined;
        if (organization) {
            labelValues = [];
            labelValues.push({ label: 'MRN', valueHtml: organization.mrn });
            labelValues.push({ label: 'Address', valueHtml: organization.address });
            labelValues.push({ label: 'Country', valueHtml: organization.country });
            if (organization.email) {
                labelValues.push({ label: 'Email', valueHtml: "<a href='mailto:" + organization.email + "'>" + organization.email + "</a>" });
            }
            if (organization.url) {
                labelValues.push({ label: 'Website', valueHtml: "<a href='" + organization.url + "' target='_blank'>" + organization.url + "</a>" });
            }
        }
        return labelValues;
    };
    OrganizationViewModelService = __decorate([
        core_1.Injectable(), 
        __metadata('design:paramtypes', [])
    ], OrganizationViewModelService);
    return OrganizationViewModelService;
}());
exports.OrganizationViewModelService = OrganizationViewModelService;


/***/ },

/***/ "./src/app/pages/shared/shared.module.ts":
/***/ function(module, exports, __webpack_require__) {

"use strict";
"use strict";
var core_1 = __webpack_require__("./node_modules/@angular/core/index.js");
var common_1 = __webpack_require__("./node_modules/@angular/common/index.js");
var designs_table_component_1 = __webpack_require__("./src/app/pages/shared/components/designs-table/designs-table.component.ts");
var specifications_table_component_1 = __webpack_require__("./src/app/pages/shared/components/specifications-table/specifications-table.component.ts");
var nga_module_1 = __webpack_require__("./src/app/theme/nga.module.ts");
var instances_table_component_1 = __webpack_require__("./src/app/pages/shared/components/instances-table/instances-table.component.ts");
var sr_view_model_service_1 = __webpack_require__("./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts");
var certificates_table_component_1 = __webpack_require__("./src/app/pages/shared/components/certificates-table/certificates-table.component.ts");
var certificate_helper_service_1 = __webpack_require__("./src/app/pages/shared/services/certificate-helper.service.ts");
var organization_details_table_component_1 = __webpack_require__("./src/app/pages/shared/components/organizaton-details-table/organization-details-table.component.ts");
var organization_view_model_service_1 = __webpack_require__("./src/app/pages/shared/services/organization-view-model.service.ts");
var certificate_issue_new_component_1 = __webpack_require__("./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.component.ts");
var SharedModule = (function () {
    function SharedModule() {
    }
    SharedModule = __decorate([
        core_1.NgModule({
            imports: [
                common_1.CommonModule,
                nga_module_1.NgaModule
            ],
            declarations: [
                designs_table_component_1.DesignsTableComponent,
                instances_table_component_1.InstancesTableComponent,
                specifications_table_component_1.SpecificationsTableComponent,
                certificates_table_component_1.CertificatesTableComponent,
                organization_details_table_component_1.OrganizationDetailsTableComponent,
                certificate_issue_new_component_1.CertificateIssueNewComponent
            ],
            exports: [
                organization_details_table_component_1.OrganizationDetailsTableComponent,
                designs_table_component_1.DesignsTableComponent,
                instances_table_component_1.InstancesTableComponent,
                specifications_table_component_1.SpecificationsTableComponent,
                certificates_table_component_1.CertificatesTableComponent,
                certificate_issue_new_component_1.CertificateIssueNewComponent
            ],
            providers: [
                sr_view_model_service_1.SrViewModelService,
                certificate_helper_service_1.CertificateHelperService,
                organization_view_model_service_1.OrganizationViewModelService
            ]
        }), 
        __metadata('design:paramtypes', [])
    ], SharedModule);
    return SharedModule;
}());
exports.SharedModule = SharedModule;


/***/ }

});
//# sourceMappingURL=0.map